# Guida Utente - Sistema Chat

## Come Accedere alla Chat

### Per Clienti
1. Accedi al sistema con le tue credenziali
2. Vai su "Le Mie Richieste" dal menu
3. Clicca sulla richiesta desiderata
4. Clicca sul pulsante **"Chat"** (icona verde a destra)
5. La chat si aprir√† in una finestra modale

### Per Professionisti
1. Accedi al sistema con le tue credenziali
2. Vai su "Richieste Assegnate"
3. Clicca sulla richiesta su cui stai lavorando
4. Clicca sul pulsante **"Chat"** 
5. Potrai comunicare con il cliente

### Per Admin/Staff
1. Accedi al pannello amministrativo
2. Vai su "Gestione Richieste"
3. Seleziona qualsiasi richiesta
4. Clicca sul pulsante **"Chat"**
5. Potrai intervenire nella conversazione

## Come Usare la Chat

### Inviare un Messaggio
1. **Scrivi** il tuo messaggio nel campo in basso
2. **Premi Invio** o clicca sull'icona dell'aeroplano ‚úàÔ∏è
3. Il messaggio apparir√† immediatamente nella conversazione

### Identificare i Partecipanti
Ogni messaggio mostra:
- **Nome completo** dell'utente
- **Badge colorato** che indica il ruolo:
  - üü£ **Viola** = Super Admin
  - üî¥ **Rosso** = Admin/Staff
  - üîµ **Blu** = Professionista
  - üü¢ **Verde** = Cliente
- **Orario** di invio (formato HH:mm)

### Layout dei Messaggi
- **I tuoi messaggi**: Appaiono a destra con sfondo blu
- **Messaggi degli altri**: Appaiono a sinistra con sfondo bianco
- **Messaggi di sistema**: Centrati con sfondo grigio

## Stati della Chat

### Chat Attiva ‚úÖ
La chat √® attiva quando la richiesta √® in uno di questi stati:
- **PENDING** - In attesa di assegnazione
- **ASSIGNED** - Professionista assegnato
- **IN_PROGRESS** - Lavoro in corso

Puoi:
- Inviare messaggi
- Ricevere risposte
- Allegare file (prossimamente)

### Chat Chiusa üîí
La chat si chiude automaticamente quando:
- La richiesta √® **COMPLETATA** ‚úÖ
- La richiesta √® **CANCELLATA** ‚ùå

Quando la chat √® chiusa:
- Puoi ancora **leggere** i messaggi precedenti
- **Non puoi** inviare nuovi messaggi
- Appare il messaggio: *"La chat √® chiusa perch√© la richiesta √® stata completata/cancellata"*

## Funzionalit√† Disponibili

### ‚úÖ Gi√† Implementate
- Invio e ricezione messaggi di testo
- Visualizzazione nome utente e ruolo
- Timestamp per ogni messaggio
- Controllo accessi per ruolo
- Chiusura automatica chat
- Notifiche per nuovi messaggi

### üöß Prossimamente
- **Upload Allegati**: Invia foto e documenti
- **Stampa Chat**: Esporta la conversazione in PDF
- **Indicatore Digitazione**: Vedi quando qualcuno sta scrivendo
- **Modifica Messaggi**: Correggi messaggi gi√† inviati
- **Elimina Messaggi**: Rimuovi messaggi inviati per errore
- **Ricerca**: Cerca nel thread della conversazione
- **Emoji**: Aggiungi reazioni ai messaggi

## Notifiche

Quando ricevi un nuovo messaggio:
1. **Notifica nel sistema**: Badge rosso sull'icona notifiche
2. **Email** (se abilitata): Ricevi un'email con anteprima del messaggio
3. **Real-time**: Se hai la chat aperta, il messaggio appare istantaneamente

## Domande Frequenti

### Non riesco ad accedere alla chat
**Verifica che**:
- Sei il cliente della richiesta, oppure
- Sei il professionista assegnato, oppure
- Sei un admin/staff

### La chat non si apre
**Possibili cause**:
- La richiesta √® stata completata o cancellata
- Non hai i permessi per accedere
- Problema temporaneo di connessione

### Non vedo i nuovi messaggi
**Prova a**:
- Ricaricare la pagina (F5)
- Verificare la connessione internet
- Chiudere e riaprire la chat

### Come faccio a stampare la chat?
Questa funzionalit√† sar√† disponibile prossimamente. Per ora puoi:
- Fare screenshot della conversazione
- Copiare e incollare i messaggi in un documento

## Best Practices

### Per una Comunicazione Efficace
1. **Sii chiaro e conciso** nei messaggi
2. **Usa un linguaggio professionale** e cortese
3. **Rispondi tempestivamente** alle domande
4. **Fornisci dettagli utili** per risolvere il problema
5. **Conferma sempre** accordi e appuntamenti via chat

### Privacy e Sicurezza
- **Non condividere** dati sensibili (password, carte di credito)
- **Usa la chat** solo per comunicazioni relative alla richiesta
- **Tutti i messaggi** sono registrati e conservati nel sistema
- **Gli admin** possono accedere alle chat per supporto

## Supporto

Se hai problemi con la chat:
1. Controlla questa guida
2. Prova a ricaricare la pagina
3. Contatta il supporto tecnico
4. Segnala il problema agli amministratori

---

*Sistema Chat v1.0 - Ultimo aggiornamento: 31 Agosto 2025*
